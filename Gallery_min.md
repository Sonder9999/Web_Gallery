# 动漫图片网站需求文档

## 概述

一个用于托管和浏览动漫风格图片的网站，灵感来源于 Pixiv、Bilibili 和 Wallhaven.cc，具备标签、搜索、筛选、预览、下载和上传图片的功能。网站支持响应式设计、高级搜索功能和用户管理。

## 导航与布局

- **顶部导航栏**：
  - **组件**：
    - 网站 Logo（图片）。
    - 小图标用于页面跳转。
    - 搜索框（支持高级筛选和搜索历史）。
    - 用户名 + 头像（登录用户显示）。
  - **响应式行为**：
    - 屏幕缩小时的表现：
      - 用户名最先消失。
      - Logo 和头像随后消失。
      - 搜索框保留，导航图标移至页面底部（类似淘宝）。
  - **参考设计**：QQ 音乐、Pixiv、Wallhaven.cc。

## 图片标签系统

- **标签结构**：
  - 层级标签：
    - 大标签（如“米哈游”）包含小标签（如“原神”“崩坏三”）。
    - 角色标签（如“原神”包含“珊瑚宫心海”“可莉”）。
  - 标签类型：
    - 单一角色标签（如“Kokomi_Only”，仅包含心海的图片）。
    - 复合标签（如“Kokomi + 雷电将军”，包含多个角色的图片）。
  - 标签支持多语言及别名：
    - 示例：“珊瑚宫心海” = “心海” = “Kokomi”（不区分大小写） = “Sangonomiya Kokomi” = 日语“心海”。
    - 支持模糊搜索（别名、昵称、拼音，例如输入“xin”可联想“心海”“辛炎”）。
    - 搜索联想功能：输入“心”可提示“心海”“开心”等。
    - 支持非连续英文匹配（例如输入“x,i,n”可联想相关词，非必要连续）。
- **标签搜索**：
  - 根据单一或复合标签搜索图片。
  - 示例：搜索“Kokomi”返回“Kokomi_Only”及“Kokomi + 雷电将军”的图片。

## 图片搜索与筛选

- **按分辨率筛选**：
  - 预设选项：FHD (1080p)、2K、4K。
  - 自定义输入：宽度 x 高度，支持“至少”或“精确”分辨率选项。
- **按比例筛选**：
  - 预设选项：16:9（横屏）、21:9（宽屏）、9:16（竖屏）、1:1（方形）。
  - 自定义范围：使用滑块选择比例范围（如 3:1 到 4:5）。
  - 模糊匹配开关：
    - 默认关闭（精确匹配，例如 4:1）。
    - 开启后匹配范围（如 4:1 可匹配 3.5:1 到 4.4:1，四舍五入）。
    - 支持自定义范围选择（如 4:1 到 5:1）。
- **按来源筛选**：
  - 根据图片来源（如果提供）进行筛选。
- **高级搜索界面**：
  - **弹出式浮层**：
    - 点击搜索框触发，页面内容变暗/模糊，搜索界面浮于最上层。
  - **搜索历史**：
    - 显示最近 5–10 条搜索记录，以“胶囊”或“标签”形式展示。
    - 每条记录可点击直接搜索。
    - 提供“清空历史”按钮。
  - **标签筛选**：
    - 输入多个标签（回车生成可删除的“胶囊”）。
    - 支持 AND/OR 切换，决定是“同时包含”还是“包含任意一个”标签。
  - **推荐标签**：
    - 推荐常用标签（如角色名、热门标签）。

## 主页

- **图片预览**：
  - 以网格形式展示所有图片的缩略图。
  - 缩略图设置最大宽度和高度，自动排列横图和竖图。
- **鼠标悬停效果**：
  - 鼠标悬停时，图片大图预览显示：
    - 若缩略图在屏幕左侧，大图显示在右侧（反之亦然）。
    - 大图适配屏幕显示（不一定为原分辨率）。
- **批量下载**：
  - 支持批量下载主页预览的所有图片。
  - 未来扩展：支持自定义下载文件名。

## 图片详情页

- **内容**：
  - 显示完整图片（适配屏幕缩放）。
  - 显示关联标签（可点击，跳转至对应标签专区）。
  - 显示来源（若提供则显示，否则隐藏）。
  - 提供单个图片的下载按钮。
- **图片切换**：
  - 根据上一页面的上下文切换图片（例如在“Kokomi”或“Kokomi_Only”标签内切换）。
- **放大镜功能**：
  - 可开关的放大镜，放大图片局部细节。
  - 类似主页预览效果，但专注于特定区域。

## 标签专区

- **定义**：
  - 每个标签（例如“Kokomi”“Kokomi_Only”“复合标签”）拥有专属页面。
  - 专区封面为该标签下随机选择的图片。
- **功能**：
  - 展示该标签下的所有图片。
  - 可通过图片详情页的标签点击或搜索进入。

## 图片上传

- **上传页面**：
  - 用户可上传图片。
  - 标签选择：
    - 从现有标签中选择（下拉菜单或自动补全）。
    - 若无匹配标签，可创建新标签。
  - 来源字段（可选，默认为空）。
- **后台管理**：
  - 独立的后台管理页面，用于审核上传内容。
  - 需要密码验证才能访问。
  - 支持标签创建和内容管理。

## 用户系统

- **登录系统**：
  - 用户可登录以使用个性化功能（例如搜索历史、上传）。
  - 登录后在导航栏显示用户名和头像。

## 技术说明

- **前端**：
  - 使用 HTML、CSS 和 JavaScript 开发（适合初学者）。
  - 支持桌面端和移动端的响应式设计。
- **未来扩展**：
  - 增强下载文件名自定义功能。
  - 扩展拼音和多语言的模糊搜索支持。
- **灵感来源**：
  - 布局和交互参考 Pixiv、Bilibili、Wallhaven.cc 和 QQ 音乐。